/**
 * ШАБЛОН ЛЕНТЫ НОВОСТЕЙ (News Feed Template)
 * -----------------------------------------
 * Назначение: Отображение сетки карточек статей с адаптивной версткой.
 * Использует CSS Grid для структуры и Flexbox для внутреннего содержимого карточек.
 */

@use '../abstracts/mixins.scss' as mixins;

// Основной контейнер сетки
.news_feed_template {
  width: 100%;
  height: 100%;
  display: grid;
  // По умолчанию: 3 колонки одинаковой ширины
  grid-template-columns: repeat(3, 1fr);
  grid-auto-flow: row;
  gap: 1rem;

  // Адаптив для мобильных устройств (переход в 1 колонку)
  @include mixins.max-width(sm) {
    grid-template-columns: repeat(1, 1fr);
  }

  // Шаблон отдельной карточки статьи
  .article_card_template {
    outline: 3px solid #f7d80c8f;
    border-radius: 0.8rem;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;

    // Ссылка-обертка для изображения и заголовка
    a {
      width: 100%;
      display: flex;
      flex-direction: column;

      @include mixins.max-width(sm) {
        height: 15rem;
      }

      // Стилизация изображения статьи
      img {
        width: 100%;
        height: 13rem;
        border-radius: 0.8rem;
        object-fit: cover; // Гарантирует заполнение области без деформации

        @include mixins.max-width(sm) {
          height: 10rem;
        }

        // Планшеты (Portrait)
        @include mixins.width-range(md, lg) {
          height: 7.7rem;
        }

        // Планшеты (Landscape)
        @include mixins.width-range(lgn, lgn) {
          height: 10rem;
        }

        // Большие мониторы
        @include mixins.min-width(xxl) {
          height: 16rem;
        }
      }

      // Заголовок статьи
      h2 {
        color: var(--color);
        padding: 1rem 0.5rem;
        font-size: 1rem;
        width: 100%;
        height: 4rem;
        margin: 0;
        
        @include mixins.width-range(md, lg) {
          padding: 0.3rem;
          font-size: 0.9rem;
        }

        @include mixins.width-range(lgn, lgn) {
          padding: 0.3rem;
          font-size: 0.9rem;
        }
      }
    }

    // Краткое описание статьи (Content Block)
    p {
      color: var(--color);
      margin-bottom: 0;
      padding: 0.5rem;
      font-size: 1rem;
      width: 100%;
      height: 8rem;
      background-color: #494949f5;
      border-radius: 0;
      
      // Настройка скроллбара для текстового блока
      scrollbar-color: #494949f5 #494949f5;
      scrollbar-width: thin;
  
      // Включение прокрутки на разных разрешениях
      @include mixins.max-width(sm) {
        overflow: scroll;
      }
      @include mixins.width-range(md, lg) {
        overflow: scroll;
      }
      @include mixins.width-range(lgn, lgn) {
        overflow: scroll;
      }
      @include mixins.width-range(xl, xxl) {
        overflow: scroll;
      }
      @include mixins.min-width(xxl) {
        // Overlay позволяет скроллбару не занимать место в разметке
        overflow: overlay;
      }
    }

    // Ссылка "Читать далее" (скрыта по умолчанию)
    a.read_more_template {
      display: none;
      text-align: center;
      border-radius: 2rem;
      padding: 0.5rem;
      background-color: #f7d80c8f;
      width: 10%;
      height: 7.5%;
      margin-top: auto; // Прижимает кнопку к низу, если карточка вытянется
    }
  }
}
