/**
 * ГЛОБАЛЬНЫЕ ФУНКЦИИ SASS (_functions.scss)
 * -----------------------------------------
 * Назначение: Математические вычисления для CSS, работа с цветом 
 * и автоматизация адаптивных единиц измерения.
 */

// 1. Базовый размер шрифта (обычно соответствует стандарту браузера)
$base-font-size: 16px;

/**
 * ФУНКЦИЯ: to-rem($pixel)
 * Назначение: Перевод пикселей (px) в относительные единицы (rem).
 * * Почему это важно: Использование rem позволяет сайту корректно масштабироваться,
 * если пользователь изменит размер шрифта в настройках браузера (Accessibility).
 */

@function to-rem($pixel) {
  // Проверяем, что передано число именно в пикселях
  @if unit($pixel) == "px" {
    // Делим значение на 16 и добавляем единицу rem
    @return $pixel / $base-font-size * 1rem;
  } @else {
    // Если передано что-то другое (например, %, em), выводим предупреждение в консоль при сборке
    @warn "Значение '#{$pixel}' не имеет единицы 'px'. Возвращено исходное значение.";
    @return $pixel;
  }
}

/**
 * ФУНКЦИЯ: color-shade($color, $percentage)
 * Назначение: Динамическое изменение яркости цвета.
 * * Параметры:
 * $color: Исходный цвет.
 * $percentage: Положительное число для затемнения, отрицательное — для осветления.
 */

@function color-shade($color, $percentage) {
  // Если процент > 0, используем встроенную функцию darken
  @if $percentage > 0 {
    @return darken($color, $percentage);
  }
  // Если процент < 0, используем lighten (берем модуль числа через abs)
  @else if $percentage < 0 {
    @return lighten($color, abs($percentage));
  }
  // Если 0, возвращаем цвет без изменений
  @return $color;
}
